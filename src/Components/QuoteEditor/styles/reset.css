/**
 * Reset CSS Scopé pour QuoteEditor
 *
 * Ce fichier contient les règles de reset CSS qui garantissent que le composant
 * QuoteEditor est complètement isolé des styles de l'application parente.
 *
 * IMPORTANT: Tous les sélecteurs sont préfixés avec [data-quote-editor-scope]
 * pour garantir l'isolation.
 */

/* ========================================
   RESET COMPLET DU CONTENEUR ROOT
   ======================================== */

[data-quote-editor-scope] {
  /* Reset de toutes les propriétés héritables */
  all: initial;

  /* Forcer le display et position */
  display: block !important;
  position: relative !important;

  /* Propriétés typographiques de base */
  font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif !important;
  font-size: 16px !important;
  line-height: 1.5 !important;
  color: #212529 !important;
  font-weight: 400 !important;
  font-style: normal !important;
  font-variant: normal !important;

  /* Reset des transformations de texte */
  text-transform: none !important;
  text-decoration: none !important;
  letter-spacing: normal !important;
  word-spacing: normal !important;
  text-indent: 0 !important;
  text-shadow: none !important;
  text-align: left !important;

  /* Reset du box model */
  box-sizing: border-box !important;
  margin: 0 !important;
  padding: 0 !important;

  /* Neutraliser les backgrounds/borders parents */
  background: transparent !important;
  background-color: transparent !important;
  background-image: none !important;
  border: none !important;
  border-radius: 0 !important;
  outline: none !important;
  box-shadow: none !important;

  /* Reset des propriétés de liste */
  list-style: none !important;
  list-style-type: none !important;
  list-style-position: outside !important;

  /* Reset des propriétés de table */
  border-collapse: separate !important;
  border-spacing: 0 !important;

  /* Neutraliser les transformations CSS */
  transform: none !important;
  filter: none !important;
  opacity: 1 !important;

  /* Propriétés de rendu */
  -webkit-font-smoothing: antialiased !important;
  -moz-osx-font-smoothing: grayscale !important;

  /* Créer un nouveau stacking context */
  z-index: 0 !important;
  isolation: isolate !important;
}

/* ========================================
   RESET DES ÉLÉMENTS ENFANTS
   ======================================== */

[data-quote-editor-scope] *,
[data-quote-editor-scope] *::before,
[data-quote-editor-scope] *::after {
  /* Box model unifié */
  box-sizing: border-box !important;

  /* Reset des marges et padding */
  margin: 0;
  padding: 0;

  /* Reset des bordures */
  border: 0;

  /* Hériter la font-family du conteneur */
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  color: inherit;
}

/* ========================================
   ÉLÉMENTS DE BLOC
   ======================================== */

[data-quote-editor-scope] div,
[data-quote-editor-scope] section,
[data-quote-editor-scope] article,
[data-quote-editor-scope] aside,
[data-quote-editor-scope] header,
[data-quote-editor-scope] footer,
[data-quote-editor-scope] nav,
[data-quote-editor-scope] main {
  display: block;
}

/* ========================================
   TITRES
   ======================================== */

[data-quote-editor-scope] h1,
[data-quote-editor-scope] h2,
[data-quote-editor-scope] h3,
[data-quote-editor-scope] h4,
[data-quote-editor-scope] h5,
[data-quote-editor-scope] h6 {
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  padding: 0;
}

/* ========================================
   PARAGRAPHES ET TEXTE
   ======================================== */

[data-quote-editor-scope] p,
[data-quote-editor-scope] span,
[data-quote-editor-scope] strong,
[data-quote-editor-scope] em,
[data-quote-editor-scope] small,
[data-quote-editor-scope] b,
[data-quote-editor-scope] i {
  margin: 0;
  padding: 0;
  font-size: inherit;
  line-height: inherit;
}

/* ========================================
   LISTES
   ======================================== */

[data-quote-editor-scope] ul,
[data-quote-editor-scope] ol,
[data-quote-editor-scope] li {
  list-style: none;
  margin: 0;
  padding: 0;
}

/* ========================================
   TABLEAUX
   ======================================== */

[data-quote-editor-scope] table {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
}

[data-quote-editor-scope] th,
[data-quote-editor-scope] td {
  padding: 0;
  text-align: left;
  vertical-align: top;
}

/* ========================================
   FORMULAIRES
   ======================================== */

[data-quote-editor-scope] input,
[data-quote-editor-scope] textarea,
[data-quote-editor-scope] select,
[data-quote-editor-scope] button {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
  color: inherit;
  margin: 0;
  padding: 0;
  border: none;
  background: transparent;
  outline: none;
}

[data-quote-editor-scope] button {
  cursor: pointer;
  background: none;
  border: none;
  outline: none;
}

[data-quote-editor-scope] input:focus,
[data-quote-editor-scope] textarea:focus,
[data-quote-editor-scope] select:focus,
[data-quote-editor-scope] button:focus {
  outline: none;
}

/* ========================================
   IMAGES ET MÉDIAS
   ======================================== */

[data-quote-editor-scope] img,
[data-quote-editor-scope] svg,
[data-quote-editor-scope] video,
[data-quote-editor-scope] canvas {
  display: block;
  max-width: 100%;
  height: auto;
}

/* ========================================
   LIENS
   ======================================== */

[data-quote-editor-scope] a {
  color: inherit;
  text-decoration: none;
  background-color: transparent;
}

[data-quote-editor-scope] a:hover,
[data-quote-editor-scope] a:focus {
  text-decoration: none;
  outline: none;
}

/* ========================================
   SÉLECTION DE TEXTE
   ======================================== */

[data-quote-editor-scope] ::selection {
  background-color: rgba(var(--qe-color-primary, 75, 85, 99), 0.2);
  color: inherit;
}

[data-quote-editor-scope] ::-moz-selection {
  background-color: rgba(var(--qe-color-primary, 75, 85, 99), 0.2);
  color: inherit;
}

/* ========================================
   SCROLLBARS (Webkit)
   ======================================== */

[data-quote-editor-scope] ::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

[data-quote-editor-scope] ::-webkit-scrollbar-track {
  background: #f1f1f1;
}

[data-quote-editor-scope] ::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 4px;
}

[data-quote-editor-scope] ::-webkit-scrollbar-thumb:hover {
  background: #555;
}

/* ========================================
   DÉSACTIVER LES ANIMATIONS EXTERNES
   ======================================== */

[data-quote-editor-scope] * {
  animation: none !important;
  transition: none !important;
}

/* Réactiver les animations pour les éléments du QuoteEditor */
[data-quote-editor-scope] .tw-transition,
[data-quote-editor-scope] [class*="tw-animate"],
[data-quote-editor-scope] [class*="animate-"] {
  animation: revert !important;
  transition: revert !important;
}

/* ========================================
   PROTECTION CONTRE LES RESETS AGRESSIFS
   ======================================== */

/* Protéger contre les resets qui utilisent !important */
[data-quote-editor-scope][data-scope-initialized="true"] {
  /* Ce sélecteur a une spécificité plus élevée */
  font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif !important;
  font-size: 16px !important;
  color: #212529 !important;
}

/* ========================================
   PRINT MODE ISOLATION
   ======================================== */

@media print {
  [data-quote-editor-scope]:not(.quote-editor-print-mode) {
    display: none !important;
  }
}
